apiVersion: v1
kind: Pod
metadata:
  name: kafka
spec:
  containers:
  - name: zookeeper
    image: wurstmeister/zookeeper
    ports:
      - containerPort: 2181
  - name: kafka
    image: wurstmeister/kafka
    ports:
      - containerPort: 9092
    env:
      - name: KAFKA_ZOOKEEPER_CONNECT
        value: "localhost:2181"   # works because same pod, same network
      - name: KAFKA_ADVERTISED_LISTENERS
        value: "PLAINTEXT://kafka:9092"
      - name: KAFKA_LISTENERS
        value: "PLAINTEXT://0.0.0.0:9092"
